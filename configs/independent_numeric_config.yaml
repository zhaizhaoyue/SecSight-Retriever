# [TRANSLATED]Pipeline[TRANSLATED]
# [TRANSLATED]RAG[TRANSLATED]

# [TRANSLATED]
data_sources:
  # [TRANSLATED]：[TRANSLATED]facts[TRANSLATED]
  facts:
    enabled: true
    path: "data/processed"
    priority: 1
    description: "GAAP[TRANSLATED]，[TRANSLATED]"
  
  # [TRANSLATED]：[TRANSLATED]
  tables:
    enabled: true
    path: "data/compact_tables"
    priority: 2
    description: "CSV[TRANSLATED]，[TRANSLATED]"
  
  # [TRANSLATED]：[TRANSLATED]
  raw_reports:
    enabled: false  # [TRANSLATED]，[TRANSLATED]
    path: "data/raw_reports"
    priority: 3
    description: "[TRANSLATED]HTML/XML[TRANSLATED]，[TRANSLATED]"

# [TRANSLATED]
database:
  type: "sqlite"
  path: ":memory:"  # [TRANSLATED]
  
  # [TRANSLATED]
  indexes:
    - "facts(concept)"
    - "facts(ticker, period_fy)"
    - "facts(value_num)"
    - "table_facts(ticker, year)"
    - "table_facts(row_header, col_header)"

# [TRANSLATED]
concept_mapping:
  # [TRANSLATED]
  revenue:
    gaap_concepts:
      - "us-gaap:Revenues"
      - "us-gaap:RevenueFromContractWithCustomerExcludingAssessedTax"
      - "us-gaap:SalesRevenueNet"
    table_keywords:
      - "revenue"
      - "sales"
      - "net sales"
    
  # [TRANSLATED]
  net_income:
    gaap_concepts:
      - "us-gaap:NetIncomeLoss"
      - "us-gaap:NetIncomeLossAvailableToCommonStockholdersBasic"
    table_keywords:
      - "net income"
      - "profit"
      - "earnings"
  
  # [TRANSLATED]
  total_assets:
    gaap_concepts:
      - "us-gaap:Assets"
    table_keywords:
      - "total assets"
      - "assets"
  
  cash:
    gaap_concepts:
      - "us-gaap:Cash"
      - "us-gaap:CashAndCashEquivalentsAtCarryingValue"
      - "us-gaap:CashCashEquivalentsAndShortTermInvestments"
    table_keywords:
      - "cash"
      - "cash equivalents"

# [TRANSLATED]
query:
  # [TRANSLATED]
  defaults:
    max_results: 10
    timeout_seconds: 5
    
  # [TRANSLATED]
  scoring:
    concept_match: 2.0      # [TRANSLATED]
    value_magnitude: 1.0    # [TRANSLATED]
    source_quality: 1.5     # [TRANSLATED]
    context_relevance: 1.0  # [TRANSLATED]
  
  # [TRANSLATED]
  filters:
    min_value: null         # [TRANSLATED]
    max_value: null         # [TRANSLATED]
    required_units: []      # [TRANSLATED]
    excluded_concepts: []   # [TRANSLATED]

# [TRANSLATED]
performance:
  # [TRANSLATED]
  batch_size: 1000          # [TRANSLATED]
  max_files_per_load: 100   # [TRANSLATED]
  
  # [TRANSLATED]
  use_query_cache: true     # [TRANSLATED]
  cache_size: 1000          # [TRANSLATED]
  parallel_queries: true    # [TRANSLATED]

# [TRANSLATED]
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # [TRANSLATED]
  log_query_time: true      # [TRANSLATED]
  log_data_stats: true      # [TRANSLATED]

# [TRANSLATED]
validation:
  # [TRANSLATED]
  check_data_completeness: true
  min_facts_per_ticker: 10
  
  # [TRANSLATED]
  cross_validate_sources: true  # [TRANSLATED]
  tolerance_percentage: 5.0     # [TRANSLATED]

# [TRANSLATED]
output:
  format: "json"            # [TRANSLATED]
  include_metadata: true    # [TRANSLATED]
  include_scores: true      # [TRANSLATED]
  standardize_units: true   # [TRANSLATED]
